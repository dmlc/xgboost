name: macos_test
channels:
- conda-forge
dependencies:
- python=3.8
- pip
- wheel
- pyyaml
- cpplint
- pylint
- numpy
- scipy
- llvm-openmp
- scikit-learn
- pandas
- matplotlib
- dask
- distributed
- graphviz
- python-graphviz
- hypothesis
- astroid
- sphinx
- sh
- recommonmark
- mock
- breathe
- pytest
- pytest-cov
- python-kubernetes
- urllib3
- jsonschema
- boto3
- awscli
- cffi
- pyarrow
# For snappy == 1.2.0:
# tests/python/test_with_arrow.py:17: in <module>
#     import pyarrow as pa
# ../../../micromamba-root/envs/linux_cpu_test/lib/python3.8/site-packages/pyarrow/__init__.py:65: in <module>
#     import pyarrow.lib as _lib
# E   ImportError: /home/runner/micromamba-root/envs/linux_cpu_test/lib/python3.8/site-packages/pyarrow/../../.././liborc.so: undefined symbol: _ZN6snappy11RawCompressEPKcmPcPm
- snappy==1.1.10
- pyspark>=3.4.0
- cloudpickle
- pip:
  - sphinx_rtd_theme
  - py-ubjson
